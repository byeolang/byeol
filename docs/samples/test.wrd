import console aka c

def app
	Error[] read()
		errors = Error[] null
		insideResult = false

		if !mXmlReader
			c.out("You must open() the file")
			retfun errors

		for !mXmlReader.atEnd(): with mXmlReader
			switch readNext()
				is QXmlStreamReader.StartElement
					insertResult = name() == ResultElementName;

					if insideResults && name() == ErrorElementName
						item = readError(it)
						erros.push(item)

				is QXmlStreamReader.EndElement
					insertResults = name != ResultElementName;

				is QXmlStreamReader.NoToken
				is QXmlStreamReader.Invalid
				is QXmlStreamReader.StartDocument
				is QXmlStreamReader.EndDocument
				is QXmlStreamReader.Characters
				is QXmlStreamReader.Comment
				is QXmlStreamReader.DTD
				is QXmlStreamReader.EntityReference
				is QXmlStreamReader.Processing
					c.out("do nothing")	

		return errors

	void main(str[] args)
		for e in read()
			c.out("err: $e")
